# WebTimeline æ—¶é—´çº¿å·¥å…·

**WebTimeline** æ˜¯ä¸€ä¸ªç”¨äºå±•ç¤ºå°è¯´ï¼Œç”µå½±ç­‰æ•…äº‹æƒ…èŠ‚çš„æ—¶é—´çº¿å¯è§†åŒ–å·¥å…·ï¼Œé€‚ç”¨äºç¼–å‰§ã€ä½œå®¶ã€å†…å®¹ç­–åˆ’ã€è¯»è€…è§‚ä¼—ç­‰è§’è‰²ï¼Œå¸®åŠ©ä»–ä»¬æ¢³ç†å¤æ‚çš„æ•…äº‹ç»“æ„å’Œäººç‰©å…³ç³»ã€‚

## âœ¨ é¡¹ç›®ç‰¹ç‚¹

- **ç»“æ„åŒ–æ•°æ®æ”¯æŒ**ï¼šé€šè¿‡ JSON æ ¼å¼è®°å½•äº‹ä»¶ï¼ŒåŒ…å«æ—¶é—´ã€åœ°ç‚¹ã€äººç‰©ã€æƒ…èŠ‚ç­‰å¤šç»´åº¦ä¿¡æ¯ã€‚TODO:ä½¿ç”¨æ•°æ®åº“
- **å¤šç»´åº¦å±•ç¤º**ï¼šæ”¯æŒæŒ‰æ—¶é—´ã€äººç‰©ã€ç« èŠ‚ã€æ ‡ç­¾ç­‰å¤šç§æ–¹å¼ç­›é€‰å’Œå±•ç¤ºäº‹ä»¶ã€‚
- **å¯è§†åŒ–ç•Œé¢**ï¼šåŸºäº [vis-timeline](https://visjs.github.io/vis-timeline/) å®ç°äº¤äº’å¼æ—¶é—´çº¿å±•ç¤ºã€‚
- **çµæ´»æ‰©å±•æ€§**ï¼šé€‚ç”¨äºå°è¯´é˜…è¯»ä¸åˆ›ä½œã€å‰§æœ¬ç¼–æ’ã€å†å²äº‹ä»¶æ•´ç†ç­‰å¤šç§åœºæ™¯ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```bash
webtimeline/
â”œâ”€â”€ app.py                  # Flask åº”ç”¨ä¸»ç¨‹åº
â”œâ”€â”€ routes_character.py     # äººç‰©ç›¸å…³è·¯ç”±
â”œâ”€â”€ routes_timeline.py      # æ—¶é—´çº¿ç›¸å…³è·¯ç”±
â”œâ”€â”€ utils.py                # å·¥å…·å‡½æ•°
â”œâ”€â”€ templates/              # HTML æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ static/                 # é™æ€èµ„æºæ–‡ä»¶ï¼ˆCSSã€JSï¼‰
â”œâ”€â”€ data/                   # å­˜å‚¨äº‹ä»¶æ•°æ®çš„ JSON æ–‡ä»¶
â””â”€â”€ readme.md               # é¡¹ç›®è¯´æ˜æ–‡ä»¶
```
## æ•°æ®
### äº‹ä»¶æ•°æ®å…ƒç´ 
| å­—æ®µå         | ç±»å‹       | è¯´æ˜ |
|----------------|------------|------|
| `id`           | `number`   | å”¯ä¸€æ ‡è¯†äº‹ä»¶çš„ IDï¼Œé€’å¢ |
| `shortId`      | `string`   | ç±»ä¼¼uuidï¼Œæ ¹æ®æ—¶é—´æˆ³ç”Ÿæˆï¼Œå”¯ä¸€ |
| `start`        | `string`   | æ—¶é—´-äº‹ä»¶å¼€å§‹æ—¶é—´ï¼Œæ ¼å¼ä¸º `YYYY-MM-DD` |
| `end`         |`string/null`| æ—¶é—´-äº‹ä»¶ç»“æŸæ—¶é—´ï¼Œå¯é€‰ï¼Œæ”¯æŒæ—¶é—´æ®µäº‹ä»¶ |
| `specialDay`   | `string`   | æ—¶é—´-ç‰¹æ®ŠèŠ‚æ—¥æˆ–çºªå¿µæ—¥ï¼Œå¦‚â€œå…ƒå®µèŠ‚â€ã€â€œæ–°å¹´â€ç­‰ |
| `season`       | `string`   | æ—¶é—´-å­£èŠ‚ï¼ˆæ˜¥ã€å¤ã€ç§‹ã€å†¬ï¼‰ |
| `weather`      | `string`   | æ—¶é—´-å¤©æ°”æƒ…å†µï¼Œå¦‚â€œæ™´â€ã€â€œé›¨â€ã€â€œå¤§é›ªâ€ |
| `location`     | `string`   | åœ°ç‚¹-äº‹ä»¶å‘ç”Ÿçš„åœ°ç‚¹ |
| `characters`   | `string`   | äººç‰©-å‚ä¸è¯¥äº‹ä»¶çš„æ‰€æœ‰äººç‰©æ•°ç»„ï¼Œé€—å·åˆ†éš”|
| `keyCharacter` | `string`   | äººç‰©-æ­¤äº‹ä»¶ä¸­æƒ…èŠ‚çš„æ ¸å¿ƒäººç‰©ï¼Œé€—å·åˆ†éš”|
| `title`        | `string`   | Â·æ•…äº‹-äº‹ä»¶æ ‡é¢˜ï¼ˆç”¨äº vis-timeline ä¸­çš„ `content` å­—æ®µï¼‰ |
| `story`        | `string`   | æ•…äº‹-äº‹ä»¶çš„è¯¦ç»†å™è¿°å†…å®¹ |
| `category`     | `string`   | æ•…äº‹-äº‹ä»¶ç±»å‹ï¼Œå¦‚â€œæˆ˜æ–—â€ã€â€œå†…å¿ƒæˆâ€ã€â€œæƒ…èŠ‚æ¨è¿›â€ç­‰ï¼Œé€—å·åˆ†éš” |
| `tags`         | `string`   | æ•…äº‹-è‡ªå®šä¹‰æ ‡ç­¾åˆ—è¡¨ï¼Œç”¨äºå¿«é€Ÿåˆ†ç±»,é€—å·åˆ†éš” |
| `chapter`      | `number`   | æ•…äº‹-æ‰€åœ¨å°è¯´ç« èŠ‚ï¼Œä¾‹å¦‚ `5` |
| `note`         | `string`   | æ•…äº‹-ç¼–å‰§/ä½œè€…çš„å¤‡æ³¨è¯´æ˜ |
| `group`        | `string`   | Â·æ•…äº‹çº¿-æ‰€å±æ—¶é—´çº¿åˆ†ç»„ï¼Œå¦‚â€œä¸»çº¿â€ã€â€œæ”¯çº¿â€ |
| `createTime`   | `string`   | åˆ›å»ºæ—¶é—´ï¼ˆç”¨äºåç«¯è®°å½•ï¼‰ |
| `updateTime`   | `string`   | æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ |

```json
  {
    "createTime": 1747065565343,
    "updateTime": 1747065565343,
    "shortId": "mal9q9pb9lq9n",
    "title": "è¥¿é—¨å¤§å§ç»“å©š",
    "start": "1113-06-12",
    "end": null,
    "location": "è¥¿é—¨åºœ",
    "keyCharacter": "è¥¿é—¨åº†,å­Ÿç‰æ¥¼",
    "characters": "è¥¿é—¨åº†,å­Ÿç‰æ¥¼",
    "story": "é‡é™ˆå®…ä½¿æ–‡å«‚å„¿æ¥é€šä¿¡ï¼Œå…­æœˆåäºŒæ—¥å°±è¦å¨¶å¤§å§è¿‡é—¨ã€‚...",
    "category": "",
    "tags": "",
    "season": "å¤",
    "specialDay": "",
    "weather": "",
    "group": "ä¸»çº¿",
    "chapter": 8,
    "note": "",
    "id": 10029
  }
```
### è§’è‰²æ•°æ®å…ƒç´ 
| å­—æ®µå         | ç±»å‹          | è¯´æ˜          |
|----------------|---------------|-------------------------|
| `id`           | `number`      | äººç‰©çš„å”¯ä¸€æ ‡è¯†ç¬¦  |
| `name`         | `string`      | äººç‰©å§“å                 |
| `aliases`      | `string`      | åˆ«åï¼Œå¤šä¸ªä»¥é€—å·åˆ†éš”           |
| `zi`           | `string`      | å­—å·             |
| `gender`       | `string`      | æ€§åˆ«ï¼ˆâ€œç”·â€ã€â€œå¥³â€ï¼‰       |
| `birth`        | `string`      | å‡ºç”Ÿå¹´æœˆï¼ˆxxxx-xx-xxï¼‰     |
| `firstAge`     | `number/null` | é¦–æ¬¡å‡ºåœºå¹´é¾„ï¼Œè‹¥æœªçŸ¥åˆ™ä¸º `null`         |
| `firstChapter` | `number`      | äººç‰©é¦–æ¬¡å‡ºåœºç« èŠ‚ç¼–å·       |
| `addr`         | `string`      | å±…ä½åœ°å€ï¼ˆæ”¯æŒå¤šæ¬¡å˜è¿è¯´æ˜ï¼‰    |
| `job`          | `string`      | èŒä¸š               |
| `role`         | `string`      | è§’è‰²å…³ç³»æˆ–ç¤¾ä¼šèº«ä»½æè¿°ï¼Œå¦‚â€œè°çš„å‰å¤«ã€å…„å¼Ÿç­‰â€    |
| `chara`        | `string`      | ä¸»è¦äº‹ä»¶ä¸­äººç‰©çš„è§’è‰²æ ‡ç­¾    |
| `nature`       | `string`      | æ€§æ ¼ç‰¹å¾   |
| `hobby`        | `string`      | çˆ±å¥½     |
| `body`         | `string`      | å¤–è²Œä½“æ€æè¿°   |
| `description`  | `string`      | äººç‰©ç®€ä»‹-è¯¦ç»†èƒŒæ™¯ä¸ç»å†å™è¿°    |
| `mainEvents`   | `string`      | ä¸»è¦ç»å†ï¼ˆå…³é”®äº‹ä»¶ï¼‰ï¼Œç”¨åˆ†å·åˆ†éš”           |
| `related`      | `string`      | ä¸å…¶ä»–äººç‰©çš„å…³ç³»ï¼Œæ ¼å¼å¦‚â€œå¦»:xx;å…„å¼Ÿ:xx,xx,xxâ€   |
| `note`         | `string`      | å¤‡æ³¨ï¼Œå¯ç”¨äºè¡¥å……è§’è‰²è®¾å®šã€å˜åŒ–ç­‰è¯´æ˜    |
| `createTime`   | `number`      | åˆ›å»ºæ—¶é—´ï¼Œæ—¶é—´æˆ³                      |
| `updateTime`   | `number`      | æœ€åä¿®æ”¹æ—¶é—´ï¼Œæ—¶é—´æˆ³          |

```json
{
    "createTime": 1746813029757,
    "updateTime": 1746813029757,
    "name": "éƒ“å“¥",
    "aliases": "",
    "zi": "",
    "birth": "",
    "firstAge": 15,
    "firstChapter": null,
    "hobby": "",
    "nature": "æœºçµ",
    "addr": "",
    "role": "",
    "chara": "å…¶ä»–",
    "job": "å–æ°´æœ",
    "body": "",
    "note": "å§“ä¹”ï¼Œå› ä¸ºåšå†›åœ¨éƒ“å·ç”Ÿå…»çš„ï¼Œå–åå«åšéƒ“å“¥ã€‚å®¶ä¸­åªæœ‰ä¸ªè€çˆ¹ï¼Œå¹´çºªé«˜å¤§",
    "description": "å› ä¸ºå¯¹ç‹å©†ä¸æ»¡ï¼Œæ‰€ä»¥æŒ‘å”†æ­¦å¤§å»æ‰å¥¸ã€‚ååœ¨æ­¦æ¾é€¼è¿«ä¸‹è¯´å‡ºçœŸç›¸",
    "mainEvents": "",
    "related": "æœ‹å‹:æ­¦å¤§",
    "id": 26
  }
```

## å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/liliangjie91/webtimeline.git
cd webtimeline
```

## è¿è¡Œé¡¹ç›®
```bash
pyhton run.py #åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:5001 æŸ¥çœ‹æ—¶é—´çº¿å±•ç¤º
```
## ğŸ§© ç¤ºä¾‹æ•°æ®

é¡¹ç›®ä¸­çš„ data/ ç›®å½•åŒ…å«ç¤ºä¾‹äº‹ä»¶æ•°æ®ï¼Œå¯ä¾›å‚è€ƒå’Œæµ‹è¯•ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue æˆ– Pull Requestï¼Œæå‡ºå»ºè®®æˆ–è´¡çŒ®ä»£ç ã€‚
